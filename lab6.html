<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Авторизация — два варианта</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f3f4f6;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 50px;
      padding: 40px;
    }

    h1 {
      text-align: center;
    }

    /* Обычный JS вариант */
    .plain-box {
      border: 1px solid #ccc;
      background: white;
      border-radius: 12px;
      padding: 20px;
      width: 260px;
      text-align: center;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    input, button {
      display: block;
      width: 100%;
      margin-top: 10px;
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    button {
      background-color: #3b82f6;
      color: white;
      border: none;
      cursor: pointer;
    }

    button:hover {
      background-color: #2563eb;
    }

    .success { color: green; }
    .error { color: red; }

    /* React контейнер */
    #react-root {
      width: 300px;
    }
  </style>
</head>
<body>
  <h1>Приложение "Авторизация"</h1>

  <!-- Вариант 1 — обычный JS -->
  <div class="plain-box">
    <h2>JS-вариант</h2>
    <form id="loginForm">
      <input type="text" id="login" placeholder="Логин" required />
      <input type="password" id="password" placeholder="Пароль" required />
      <button type="submit">Войти</button>
      <p id="message"></p>
    </form>
  </div>

  <!-- Вариант 2 — React -->
  <div id="react-root"></div>

  <!-- ======= Обычный JS код ======= -->
  <script>
    const users = [
      { login: "admin", password: "12345", name: "Администратор" },
      { login: "user1", password: "qwerty", name: "Алексей" },
      { login: "user2", password: "pass2024", name: "Мария" },
      { login: "guest", password: "guest", name: "Гость" },
      { login: "ivan", password: "1111", name: "Иван" },
    ];

    document.getElementById("loginForm").addEventListener("submit", function (e) {
      e.preventDefault();
      const login = document.getElementById("login").value;
      const password = document.getElementById("password").value;
      const message = document.getElementById("message");

      const foundUser = users.find(
        (user) => user.login === login && user.password === password
      );

      if (foundUser) {
        message.textContent = `Добро пожаловать, ${foundUser.name}!`;
        message.className = "success";
      } else {
        message.textContent = "Ошибка: неверный логин или пароль.";
        message.className = "error";
      }
    });
  </script>

  <!-- ======= React через CDN ======= -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- ======= React Код ======= -->
  <script type="text/babel">
    function ReactAuthApp() {
      const [login, setLogin] = React.useState("");
      const [password, setPassword] = React.useState("");
      const [message, setMessage] = React.useState("");

      const users = [
        { login: "admin", password: "12345", name: "Администратор" },
        { login: "user1", password: "qwerty", name: "Алексей" },
        { login: "user2", password: "pass2024", name: "Мария" },
        { login: "guest", password: "guest", name: "Гость" },
        { login: "ivan", password: "1111", name: "Иван" },
      ];

      const handleLogin = (e) => {
        e.preventDefault();
        const foundUser = users.find(
          (user) => user.login === login && user.password === password
        );

        if (foundUser) {
          setMessage(`Добро пожаловать, ${foundUser.name}!`);
        } else {
          setMessage("Ошибка: неверный логин или пароль.");
        }
      };

      return (
        <div className="plain-box">
          <h2>React-вариант</h2>
          <form onSubmit={handleLogin}>
            <input
              type="text"
              placeholder="Логин"
              value={login}
              onChange={(e) => setLogin(e.target.value)}
            />
            <input
              type="password"
              placeholder="Пароль"
              value={password}
              onChange={(e) => setPassword(e.target.value)}
            />
            <button type="submit">Войти</button>
            {message && (
              <p className={message.startsWith("Добро") ? "success" : "error"}>
                {message}
              </p>
            )}
          </form>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById("react-root"));
    root.render(<ReactAuthApp />);
  </script>
</body>
</html>
