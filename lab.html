<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <title>Utils — getRange / myReverse / maskCard</title>
</head>
<body>
<script>
  
  function getRange(start, end, step) {
    if (start === undefined || end === undefined) throw new Error("start and end required");
    start = Number(start);
    end = Number(end);

    if (step === undefined || step === null) {
      step = (start <= end) ? 1 : -1;
    } else {
      step = Number(step);
      if (step === 0) throw new Error("step must not be 0");
    }

    if (start < end && step <= 0) throw new Error("step must be positive when start < end");
    if (start > end && step >= 0) throw new Error("step must be negative when start > end");

    const result = [];
    if (step > 0) {
      for (let v = start; v <= end; v += step) result.push(v);
    } else {
      for (let v = start; v >= end; v += step) result.push(v);
    }
    return result;
  }

  
  function myReverse(s) {
    if (s === null || s === undefined) return s;
    s = String(s);
    let out = "";
    for (let i = s.length - 1; i >= 0; i--) {
      out += s.charAt(i);
    }
    return out;
  }


  function maskCard(card, maskChar = 'X') {
    if (card === null || card === undefined) return card;
    card = String(card);
    const len = card.length;
    if (len <= 10) return card;
    const prefixLen = Math.min(6, len - 4);
    const suffixLen = 4;
    const maskLen = len - prefixLen - suffixLen;
    let out = "";
    out += card.slice(0, prefixLen);
    for (let i = 0; i < maskLen; i++) out += maskChar;
    out += card.slice(prefixLen + maskLen);
    return out;
  }

  console.log("=== getRange ===");
  console.log("getRange(1, 10) →", getRange(1, 10));
  console.log("getRange(10, 30, 5) →", getRange(10, 30, 5));
  console.log("getRange(10, 1, -2) →", getRange(10, 1, -2));

  console.log("\n=== myReverse ===");
  console.log("myReverse('123456789') →", myReverse("123456789"));
  console.log("myReverse('hello world') →", myReverse("hello world"));

  console.log("\n=== maskCard ===");
  console.log("maskCard('4815154823541789') →", maskCard("4815154823541789"));
  console.log("maskCard('4815154823541789', '*') →", maskCard("4815154823541789", '*'));
  console.log("maskCard('1234567890') →", maskCard("1234567890"));
</script>
</body>
</html>